<!doctype html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>JavaWEB开发QQ音乐播放插件 - Arry老师</title>
		<meta name="Keywords" content="关键词,关键词">
		<meta name="description" content="">

		<style type="text/css">
			*{margin:0;padding:0;}
			body{background:url("images/bg.jpg") no-repeat top center;font-size:12px;font-family:"微软雅黑";color:#666;}
			img{border:none;}

			/*music start*/
			.music{width:960px;height:250px;margin:50px auto;background:url("images/banner_bg.jpg") no-repeat;position:relative;}
			.music ul li{list-style:none;position:absolute;}
			.music ul .m_1{top:30px;left:6px;}
			.music ul .m_1 a img{border-radius:30px;}
			.music ul .m_2{top:105px;left:80px;}
			.music ul .m_2 a img{border-radius:45px;}
			.music ul .m_3{top:15px;left:188px;}
			.music ul .m_3 a{width:60px;height:60px;display:block;background:#900;border-radius:30px;}
			.music ul .m_4{bottom:10px;left:190px;}
			.music ul .m_4 a img{border-radius:45px;}
			.music ul .m_5{top:5px;left:286px;}
			.music ul .m_5 a img{border-radius:45px;}
			.music ul .m_6{bottom:10px;left:398px;}
			.music ul .m_6 a img{border-radius:45px;}
			.music ul .m_7{bottom:60px;left:308px;}
			.music ul .m_7 a img{border-radius:62px;}
			.music ul .m_8{top:28px;left:488px;}
			.music ul .m_8 a img{border-radius:45px;}
			.music ul .m_9{bottom:20px;right:325px;}
			.music ul .m_9 a img{border-radius:30px;}
			.music ul .m_10{bottom:76px;right:50px;text-align:center;color:#fff;font-size:14px;}
			.music ul .m_10 a img{border-radius:45px;}
			.music_rotate{-webkit-animation:arry 5s infinite linear; }
			@-webkit-keyframes arry{from{transform:rotate(0deg);-webkit-transform:rotate(0deg)}
				to{transform:rotate(360deg);-webkit-transform:rotate(360deg);}}
			/*end music*/

			/*player start*/
			.player{width:541px;height:115px;background:#000;position:fixed;bottom:60px;left:0;border-radius: 0 4px 4px 0;}
			.player .p_pic{float:left;}
			.player .p_pic img{margin: 13px 0 10px 10px;float:left;}
			.player .p_pic p{float:left;line-height:115px;font-size:20px;color:#fff;padding-left:10px;width:180px;}
			.player .p_btn{width:180px;height:52px;float:left;margin: 30px 10px;}
			.player .p_packup{width:22px;height:115px;background:url("images/player_bg.png") no-repeat;float:right;cursor: pointer;}
			.player .p_packdown{background-position:-46px 0px;}
			.player .p_packme{background-position:-23px 0px;}

			.player .p_btn a{display:block;background:url("images/player_bg.png");float:left;margin: 5px 10px;}
			.player .p_btn .b_pre{width:36px;height:28px;background-position:-69px 0;margin-top: 12px;}
			.player .p_btn .b_pre:hover{background-position:-69px -32px;}
			.player .p_btn .b_play{width:42px;height:42px;background-position: -104px 0px;}
			.player .p_btn .b_play:hover{background-position:-104px -42px;}
			
			.player .p_btn .b_stop{width:42px;height:42px;background-position:-291px -88px;display:none;}
			.player .p_btn .b_stop:hover{background-position:-333px -88px;}

			.player .p_btn .b_next{width:36px;height:28px;background-position: -148px 0px;margin-top: 12px;}
			.player .p_btn .b_next:hover{background-position:-148px -32px;}
			/*end player*/

		</style>

	</head>
<body>

	<!--music start-->
	<div class="music">
		<ul>
			<li class="m_1">
				<a href="#" class="items" title="咱们结婚吧" data-url="mp3/1.mp3">
					<img src="images/1.jpg" alt="方大同" width="60" height="60" />
				</a>
			</li>
			<li class="m_2">
				<a href="#" class="items" title="当你老了" data-url="mp3/2.mp3">
					<img src="images/2.jpg" alt="大众流行" width="90" height="90"/>
				</a>
			</li>
			<li class="m_3">
				<a href="#"></a>
			</li>
			<li class="m_4">
				<a href="#" class="items" title="母亲" data-url="mp3/3.mp3">
					<img src="images/3.jpg" alt="吴亦凡" width="60" height="60"/>
				</a>
			</li>
			<li class="m_5">
				<a href="#" class="items" title="相亲相爱的一家人" data-url="mp3/4.mp3">
					<img src="images/4.jpg" alt="吴亦凡" width="60" height="60"/>
				</a>
			</li>
			<li class="m_6">
				<a href="#" class="items" title="壮志在我心" data-url="mp3/5.mp3">
					<img src="images/6.jpg" alt="吴亦凡" width="60" height="60"/>
				</a>
			</li>
			<li class="m_7">
				<a href="#" class="items"  title="烛光里的妈妈" data-url="mp3/6.mp3">
					<img src="images/5.jpg" alt="吴亦凡" width="124" height="124"/>
				</a>
			</li>
			<li class="m_8">
				<a href="#">
					<img src="images/7.jpg" alt="吴亦凡" width="90" height="90"/>
				</a>
			</li>
			<li class="m_9">
				<a href="#">
					<img src="images/8.jpg" alt="吴亦凡" width="60" height="60"/>
				</a>
			</li>
			<li class="m_10">
				<a href="#">
					<img src="images/arry.png" alt="吴亦凡" width="86" height="87"/>
				</a>
				<p>潭州软件学院创始人</p>
			</li>
		</ul>
	</div>
	<!--end music-->

	<!--player start-->
	<div class="player">
		<div class="p_pic">
			<img src="images/1.jpg" alt="成龙" width="90" height="90" />
			<p class="p_name">咱们结婚吧</p>
		</div>
		<div class="p_btn">
			<a href="#" class="b_pre"></a>
			<a href="#" class="b_play"></a>
			<a href="#" class="b_stop"></a>
			<a href="#" class="b_next"></a>
		</div>
		<div class="p_packup"></div>
	</div>
	<div id="audiobox"><audio src="mp3/1.mp3"></audio></div>
	<!--end player-->


<script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>	
<script type="text/javascript">
	
	$(function(){
		// alert("亲爱的同学们，大家我晚上好！ 我爱你们 ^_^");
		
		// 初始化播放器
		var audioDom = createMp3("mp3/1.mp3");
		// audioDom.play();
		var index = 0;

		$(".p_packup").click(function(){
			var width = $(".player").width() - 22;
			var left = $(".player").offset().left;
			var n = 1;
			if(left < 0){
				n = 0;
				$(this).removeClass("p_packdown").addClass("p_packme");
			}
			$(".player").animate({left:-width*n},500,function(){
				if(n == 0){
					$(this).find(".p_packup").removeClass("p_packdown").removeClass("p_packme");
				} else{
					$(this).find(".p_packup").addClass("p_packdown");

				}
			});
		});

		// 点击图片联动音乐播放
		$(".items").click(function(){
			var url = $(this).data("url");
			var title = $(this).attr("title");
			// 同步
			var imgsrc = $(this).find("img").attr("src");
			$(".p_pic").find("img").attr("src",imgsrc);
			$(".p_pic").find(".p_name").text(title);
			
			// 重新初始化播放器
			audioDom = createMp3(url);
			// 模拟触发播放器按钮
			$(".b_play").trigger("click");
			$(".items").find("img").removeClass("music_rotate");
			$(this).find("img").addClass("music_rotate");

		});

		// 播放
		$(".b_play").click(function(){
			$(this).hide();
			$(".b_stop").show();
			audioDom.play(); // 播放
		});
		
		// 暂停
		$(".b_stop").click(function(){
			$(this).hide();
			$(".b_play").show();
			audioDom.pause(); // 暂停
		});

		// 点击下一首
		$(".b_next").click(function(){
			index ++;
			$(".items").eq(index).trigger("click");
		});

		$(".b_pre").click(function(){
			index --;
			$(".items").eq(index).trigger("click");
		});


	});

	// 创建一个播放器
	function createMp3(src){
		// 创建一个mp3播放器
		var audioDom = document.createElement("audio");
		// 设置地址
		audioDom.src = src;
		// 把播放器放入div容器中
		document.getElementById("audiobox").innerHTML = "";
		document.getElementById("audiobox").appendChild(audioDom);
		return audioDom;
	}


</script>

</body>

</html>