<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>javascript拖拽</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<style type="text/css">
	html,body{margin: 0;padding: 0;}
	#box{width: 320px;height: 200px;border: 1px solid #B5A4A4;}
	#box h4{background: #000;width: 320px;height: 30px;margin: 0;color: #eee;text-align: center;line-height: 30px;font-family: "微软雅黑";cursor: move;}
</style>
</head>
<body>
	<div id="box" style="position:absolute;left:255px;top:200px;">
		<h4 id="title">标题</h4>
	</div>
    <script type="text/javascript">
    	/*
    		onmousedown,onmouseover,onmouseup
    	*/
    	function $(id){
    		return document.getElementById(id);
    	}/*封装*/

    	init();
    	function init(){
    		var titleDom = $("title");
    		titleDom.onmousedown = mousedown;//鼠标按下去的事件
    		document.onmousemove = mousemove;//鼠标移动的事件
    		document.onmouseup = mouseup;//鼠标松开的事件
    	}

    	var _left = 0,_top = 0,X = 0,Y = 0;
    	isOver = false;

    	function mousedown(event){
    		isOver = true;    		
    		var E = event || window.event;//为了兼容ie和火狐
    		var boxDom =  $("box");    		
    		X = E.clientX;//全局变量
    		Y = E.clientY;//全局变量
    		_left = parseInt(boxDom.style.left);//string转换为number全局变量
    		_top = parseInt(boxDom.style.top);//全局变量


    	}
    	function mousemove(event){
    		if(isOver){
	    		var E = event || window.event;    		
	    		var newLeft = E.clientX - X + _left;/*鼠标移动到的距离+鼠标坐标起初的left~div距离左边的距离*/
	    		var newTop = E.clientY - Y + _top;
	    		var boxDom =  $("box");
	    		boxDom.style.left =  newLeft +"px";
	    		boxDom.style.top =  newTop+"px";
    		}
    	}
    	function mouseup(event){
    		//设置一个开关，防止黏住鼠标行为的。鼠标松开就要停止mousemove事件。
    		if(isOver){
    			isOver = false;
    		}
    	}

    	/*
			var username = "";
			var i = username||rexhang||guhang;
			alert(i);
			//意思是：如果username为空那么就用rexhang，rexhang再为空就用guhang，不为空就用username值。
    	*/
    </script>
</body>
</html>