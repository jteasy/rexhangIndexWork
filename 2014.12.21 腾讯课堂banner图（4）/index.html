<!doctype html>
<html>
	<head>
		<!--声明当前页面的编码集：charset=gbk,gb2312（中文编码），utf-8（国际编码）-->
		<meta http-equiv="Content-Type" content="text/html; charset=gbk">
		<!--当前页面的三要素-->
		<title>腾讯课堂banner图</title>
		<meta name="Keywords" content="关键词,关键词">
		<meta name="description" content="">
		<link rel="shortcut icon" href="images/icon.ico" />		
		<!--css,js-->
		<style type="text/css">
			*{margin:0;padding:0;}
			img{border:0;}
			.focus{width:100%;height:300px;}
			.focus .f_bg{height:300px;/*background:rgb(161, 54, 210);*/background:#A136D2;}
			.focus .f_bg .f_cont{width:1200px;height:300px;margin:0 auto;}
			.focus .f_bg .f_cont .f_banner{width:760px;height:300px;margin:0 auto;position:relative;}
			.focus .f_bg .f_cont .f_banner .f_ul1 li{display:none;list-style:none;}
			.focus .f_bg .f_cont .f_banner .f_ul1 .sel_li{display:block;}
			.focus .f_bg .f_cont .f_banner .b_ear{width:47px;height:70px;display:block;background:url("images/icon.png") no-repeat;position:absolute;}
			.focus .f_bg .f_cont .f_banner .prev{background-position:-73px 0;left:10px;top:110px;}
			.focus .f_bg .f_cont .f_banner .prev:hover{background-position:-171px 0;}
			.focus .f_bg .f_cont .f_banner .next{background-position:-123px 0;right:10px;top:110px;}
			.focus .f_bg .f_cont .f_banner .next:hover{background-position:0 -57px;}
			.focus .f_bg .f_cont .f_banner .f_btn{position:absolute;bottom:6px;left:300px;}
			.focus .f_bg .f_cont .f_banner .f_btn .f_ul2{display:inline-block;background:#000;opacity:0.4;filter:alpha(opacity=40);padding:8px 28px;border-radius:20px;}
			.focus .f_bg .f_cont .f_banner .f_btn .f_ul2 li{list-style:none;float:left;margin:0 3px;width:8px;height:8px;border:1px solid #fff;border-radius:10px;}
			.focus .f_bg .f_cont .f_banner .f_btn .f_ul2 .f_sel{background:#fff;}

		</style>

    </head>
<body>
	<div class="focus">
		<div class="f_bg">
			<div class="f_cont">
				<div class="f_banner">
					<ul class="f_ul1">
						<li class="sel_li"><a href="#"><img src="images/banner_1 (1).jpg" alt="轮展图1" width="760" height="300" /></a></li>
						<li><a href="#"><img src="images/banner_1 (2).jpg" alt="轮展图2" width="760" height="300" /></a></li>
						<li><a href="#"><img src="images/banner_1 (3).jpg" alt="轮展图3" width="760" height="300" /></a></li>
						<li><a href="#"><img src="images/banner_1 (4).jpg" alt="轮展图4" width="760" height="300" /></a></li>
						<li><a href="#"><img src="images/banner_1 (5).jpg" alt="轮展图5" width="760" height="300" /></a></li>
					</ul>
					<div class="f_btn">
						<ul class="f_ul2">
							<li class="f_sel" data-background="#A136D2"></li>
							<li data-background="#6766CE"></li>
							<li data-background="#4E4D9B"></li>
							<li data-background="#563481"></li>
							<li data-background="#009DE4"></li>
						</ul>
					</div>
					<a href="#" class="b_ear prev"></a>
					<a href="#" class="b_ear next"></a>
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
	<script type="text/javascript">
		$(function(){
			var index = 0;
			//关联①：悬停圆点事件	――>
			//当鼠标划上去的时候清除setInterval效果，鼠标离开继续执行setInterval效果。
			$(".f_btn").mouseover(function(){			
			if(timer)clearInterval(timer);
			}).mouseout(function(){
			auto_playbanner();
			});
			$(".f_btn").find("li").mouseover(function(){
				//圆点 添加一个类 把圆点被选中的效果给悬停的圆点加上
				$(this).addClass("f_sel").siblings().removeClass("f_sel");
				//图片切换
				//赋值"_index"获取现在的索引 一共五个 因为五个"li"所以有 0,1,2,3,4 这五个个索引
				var _index = $(this).index();
				//找到图片让他隐藏，通过index让他们以动画“慢速”显示出来 呈现动画效果
				$(".f_ul1").find("li").hide().eq(_index).fadeIn(500);
				//联动背景颜色
				//赋值"background"值 = 这时候【悬停在小圆点li的时候，此时li内的data属性 data-background="#A136D2" 此处获取 #A136D2 颜色属性 】
				var background = $(this).data("background");
				//$(this).parents(".f_bg").css("background",background);
				//这时候找到父类，找到.f_bg类，因为要给他赋值背景颜色，然后通过jQuery给他动态的添加css属性background=动态的background值
				//$(this).parents().find(".f_bg").css("background",background);
				$(".f_bg").css("background",background);
			});
			//关联②：点击NEXT【下一个】事件	 ――>
			//当鼠标划上去的时候清除setInterval效果，鼠标离开继续执行setInterval效果。
			$(".next").mouseover(function(){			
			if(timer)clearInterval(timer);
			}).mouseout(function(){
			auto_playbanner();
			});
			$(".next").click(function(){
			index++;
			//alert(index);
			var length = $(".f_btn").find("li").length;	
			//alert(length);
			if(index >= length){
				index=0;
			}
			//联动背景颜色
			var background = $(".f_btn").find("li").eq(index).data("background");
			//$(this).parents(".f_bg").css("background",background);
			//$(this).parents().find(".f_bg").css("background",background);
			$(".f_bg").css("background",background);
			//图片切换
			$(".f_ul1").find("li").eq(index).fadeIn(500).siblings().hide();
			//联动小按钮
			$(".f_btn").find("li").eq(index).addClass("f_sel").siblings().removeClass("f_sel");
			});
			//关联③：点击PREV【上一个】事件	 ――>
			//当鼠标划上去的时候清除setInterval效果，鼠标离开继续执行setInterval效果。
			$(".prev").mouseover(function(){			
			if(timer)clearInterval(timer);
			}).mouseout(function(){
			auto_playbanner();
			});
			$(".prev").click(function(){
			index--;
			var length = $(".f_btn").find("li").length;
			//alert(length);
			if(index < 0 ){
				index = length - 1;
			}						
			//联动背景颜色
			var background = $(".f_btn").find("li").eq(index).data("background");
			//$(this).parents(".f_bg").css("background",background);
			//$(this).parents().find(".f_bg").css("background",background);
			$(".f_bg").css("background",background);
			//图片切换
			$(".f_ul1").find("li").eq(index).fadeIn(500).siblings().hide();
			//联动小按钮
			$(".f_btn").find("li").eq(index).addClass("f_sel").siblings().removeClass("f_sel");
			});
			//④自动切换
			auto_playbanner();
		});
			//定义全局变量
			var timer = null;
			var time = 2000;
			//定义一个自动切换的函数“setInterval”
			//	setInterval(function(){
			// 这里使用“.next”类函数效果反复执行，就成了自动切换banner动画。
			//	},2000);
			function auto_playbanner(){
				timer = setInterval(function(){
								$(".next").trigger("click");
							},time);
			}

	</script>
</body>
</html>